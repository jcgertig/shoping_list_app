<div class="container" ng-init="init()">
  <h2>{{listData.name}}</h2>
  <div class="well">
    <h3>Items <i class="fa fa-plus" ng-click="addItem()" style="cursor:pointer;"></i></h3>
    <div class="table-responsive">
      <table class="table table-hover">
        <thead>
          <tr>
            <th>Name</th>
            <th>Quantity</th>
            <th>Gotten</th>
            <th>Edit</th>
            <th>Remove</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="item in items">
            <td>{{item.item.name}}</td>
            <td><input class="quantity" type="number" ng-model="item.quantity" ng-click="updateQuantity($event, item)"></td>
            <td><input class="gotten" type="checkbox" ng-checked="item.gotten" ng-click="updateGotten($event, item)"></td>
            <td><i ng-click="editItem(item)" class="fa fa-pencil" style="cursor:pointer;"></i></td>
            <td><i ng-click="deleteItem(item)" class="fa fa-trash" style="cursor:pointer;"></i></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>


  <div id="itemModal" class="modal fade">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title">{{modalState}} Item</h3>
        </div>
        <div class="modal-body">
          <div ng-show="modalState !== 'Remove'" class="form-horizontal" role="form">
            <div class="form-group">
              <label for="item" class="col-sm-3 control-label">Item</label>
              <div class="col-sm-9">
                <input id="item" class="form-control" placeholder="Item" typeahead="item as item.name for item in getItems($viewValue)" typeahead-loading="loadingItems" ng-model='selectedItem.item'>
                <i ng-show="loadingItems" class="fa fa-cog fa-spin" style="position:fixed;right:25px;top:90px;"></i>
              </div>
            </div>
            <div class="form-group">
              <label for="quantiquantity" class="col-sm-3 control-label">Quantity</label>
              <div class="col-sm-9">
                <input id="quantity" type="number" class="form-control" placeholder="Quantity" ng-model='selectedItem.quantity'>
              </div>
            </div>
            <div class="form-group" ng-show="modalState === 'Edit'">
              <label for="gotten" class="col-sm-3 control-label">Gotten</label>
              <div class="col-sm-9">
                <input type="checkbox" id="gotten" ng-checked="selectedItem.gotten" ng-click="toggleGotten()">
              </div>
            </div>
          </div>
          <div ng-show="modalState === 'Remove'">
            Are you sure you want to remove this item?
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-primary" ng-click="ok()">{{modalState}}</button>
          <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
      </div>
    </div>
  </div>

</div>
